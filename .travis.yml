language: python
os:
- linux
python:
- '2.7'
- '3.5'
- '3.6'
env:
  matrix:
  global:
  - TWINE_USERNAME=informaticsmatters
  - secure: UX6v2DvcmAkLengak/O67mjDe5BKigdXESTO+r26TW6PXWn12ybbosgLfWkKf8YVjD8Y3qFDEnvqvVP8Q7LQ/IOk3Mu1OFh+37NRlDwt+VKMRAi2zPz1b0lAW1OaFiLTb2Yvarq+5oe969xdEcFyqUUYcRY3PewcObYs0ksK43sFx8LbbnOsbbvdXD4+9ovXZ8qMHfpzUt7srB8SXInkrczrNC+SAPC9iZjj64C9MCVaLL6qcQwMP1Fz1yhY6V7PdxO8LuvMXDVZIXjY3tBsHHhitdmCKDk0g6SSOVMY8y38Yscx4bc1zf5q7r3v+ufwmT82KU6w+DoPqzOsrTD9uUkc7pLMpiWQPBI3C+8xv3gI9qOKxKEnTOQCnrYEB40/KbTYgIx0tG5o60zbFdGw5YEGcbgc4say67wLpPyDYpyL4Z5CDSUeRwss6Wo+7T0DyzLQvToIHNoZki5dkTOib3NeEbdU1MX8AjvJjJN88lFB9HuklvaL8PB9wzB/DfEDJAaeD33EKbDzjqNWDDlQs237J9odb3D/F4Qfws4lWPlT9Bm83npU6vqcdzqmUKZHRehdb8vziECkp4bd+FO+1vu8BSK6yAJDz5iso1TttbX5v+51poG5+umHj77wtIgL3oRV12G9YLfdD6QM3SmNJyXNnWVz/nNDTW8gxthUxKI=
branches:
  only:
  - "/.*/"
before_deploy:
- cd src/python
deploy:
  proivider: pypi
  distributions: bdist_wheel
  on:
    branch: master
    tags: true
install:
- pip install -r requirements.txt
- pip install -r package-requirements.txt
- cd mock-rdkit
- python setup.py install
- cd ..
script:
- cd src/python
- coverage run setup.py test
- coverage report
- pyroma .
- python setup.py bdist_wheel
